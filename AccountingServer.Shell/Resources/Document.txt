控制台帮助文档

命令：
Enter						执行
Shift+Enter					执行并将结果添加在后方

编辑：
Alt+Enter					保存
Alt+Delete					删除
Ctrl+Alt+Shift+Enter		全部保存
Ctrl+Alt+Shift+Delete		全部删除

命令：
检索记账凭证：记账凭证检索式
检索记账凭证并过滤细目：fancy 记账凭证检索式
检索记账凭证细目（不带记账凭证信息）：raw 细目检索式
检索记账凭证细目（带记账凭证信息）：sraw 细目检索式
执行分类汇总：分类汇总检索式
执行分类汇总：json 分类汇总检索式
执行分类汇总并自动填写记账凭证：raw[+-]# [@……@] 分类汇总检索式
执行分类汇总并完整显示：[Rr]ps 分类汇总检索式
编辑资产
编辑摊销
结转命令
其他命令
插件命令
（注意：可以在前面加上unsafe来允许大型检索式）

分类汇总检索式：
细目检索式 分类汇总参数
记账凭证检索式 记账凭证分类汇总参数

分类汇总参数：
` 分类汇总层次 日期累加类型? 币种等值类型?		不含零分类汇总
`` 分类汇总层次 日期累加类型? 币种等值类型?		含零分类汇总
! 分类汇总层次 日期累加类型?					计数分类汇总

记账凭证分类汇总参数：
!! 分类汇总层次 日期累加类型?					记账凭证计数分类汇总

分类汇总层次：
(空)							CtsUc
v							（全部汇总）
R							记账凭证备注
K							记账凭证类型
t							一级科目
s							二级科目
c							内容
r							备注
C							币种
U							用户
d							日期
w							周（周一开始，下同）
m							自然月
q							季度
y							年
V							金额

日期累加类型：
(空)							不累加
D							仅变动日累加
D 日期过滤器（不可省略[]）	指定范围内所有日累加
W							仅变动周累加
W 日期过滤器（不可省略[]）	指定范围内所有周累加
M							仅变动月累加
M 日期过滤器（不可省略[]）	指定范围内所有月累加
Q							仅变动季度累加
Q 日期过滤器（不可省略[]）	指定范围内所有季度累加
Y							仅变动年累加
Y 日期过滤器（不可省略[]）	指定范围内所有年累加

币种等值类型：
(空)							不折算
X							以今日汇率折算
X[非零唯一时间点]				以给定日汇率折算

细目检索式：
记账凭证检索式 细目映射检索式
原子记账凭证检索式

细目映射检索式：
:							全部映射
: 细目检索式					根据检索式映射

记账凭证检索式：
原子记账凭证检索式			不进行复合
{原子记账凭证检索式}			可通过+-*{}进行复合

运算：
+							析取
-							对后项取非再合取
*							合取

原子记账凭证检索式：
细目检索式? A 日期过滤器? ID过滤器? 记账凭证备注过滤器? 记账凭证类型过滤器?	全部细目符合细目检索式
细目检索式? 日期过滤器? ID过滤器? 记账凭证备注过滤器? 记账凭证类型过滤器?		任一细目符合细目检索式

ID过滤器：
^...^						其...中要将^换成^^

记账凭证备注过滤器：
%...%						其...中要将%换成%%

记账凭证类型过滤器：
Ordinary					普通记账凭证
G|General					非结转记账凭证
Carry						期末结转记账凭证
Amortization				摊销记账凭证
Depreciation				折旧记账凭证
Devalue						减值记账凭证
AnnualCarry					年度结转记账凭证
Uncertain					不准确记账凭证

用户过滤器：
(空)							当前用户
U							所有用户
U...						指定用户
U'...'						指定用户

币种过滤器：
(空)							所有币种
@@							本位币
@...						法币/加密货币，只能是字母，自动转换为大写
@##@						任何法币/加密货币
@#...#						伪币，任意非空字符串，无自动转换
@#@							任何伪币

细目检索式：
原子细目检索式				可通过+-*()进行复合

原子细目检索式：
用户过滤器? 币种过滤器? 科目类型过滤器? 会计科目过滤器? 内容过滤器? 细目备注过滤器? 金额过滤器? 方向过滤器?

科目类型过滤器：
Asset						资产
Liability					负债
Mutual						共同
Equity						所有者权益
Cost						成本
Revenue						收入
Expense						费用
Static						静态科目（资产、负债、共同、所有者权益）
Dynamic						动态科目（成本、收入、费用）
Liquidity					流动资产
Investment					投资
Spending					消费

会计科目过滤器：
T....						一级科目
T......						一级科目和二级科目

内容过滤器：
'...'						全字匹配，其...中要将'换成''
'...'.*						前缀匹配，其...中要将'换成''

细目备注过滤器：
"..."						全字匹配，其...中要将"换成""
"...".*						前缀匹配，其...中要将"换成""

金额过滤器：
=[+-]?...					其中...为十进制浮点数，但不支持科学记数法和前缀零

方向过滤器：
>							借方
<							贷方

日期过滤器：除非特别说明，可以省略[]
[]							不作限制
[null]						无日期
[~null]						非无日期
[具体时间点~具体时间点]		两时间点（含）之间
[具体时间点~~具体时间点]		两时间点（含）之间，或无日期
[~具体时间点]				一时间点（含）之前，含无日期
[~~具体时间点]				一时间点（含）之前，不含无日期
[具体时间点]					此时间点

时间点：
[]							不作限制
[null]						无日期
具体时间点

唯一时间点
[null]						无日期
yyyyMMdd					绝对日
日相对值						相对日

具体时间点：
yyyy						绝对年
yyyyMM						绝对月
yyyyQx						绝对季度
季度相对值						相对季度
月相对值						相对月
周相对值						相对周
yyyyMMdd					绝对日
日相对值						相对日

季度相对值：
1							本年第一季度
2							本年第二季度
3							本年第三季度
4							本年第四季度
0							本季度
-1							上月
……

月相对值：
0							本月
-1							上月
……

周相对值：
,							本周
,,							上周
……

日相对值：
.							今日
..							昨日
……

编辑资产：
a 时间点? 分期检索式?										检索资产（以报告形式显示，无计算表，按指定日期计算账面价值，不显示账面价值为零和未购置的）
a-all 分期检索式?										检索资产（以报告形式显示，无计算表）
a-li 时间点? 分期检索式?									检索资产（以报告形式显示，有计算表，按指定日期计算账面价值，不显示账面价值为零和未购置的）
a-q 分期检索式?											检索资产
a-reg 分期检索式? 日期过滤器? (: 记账凭证过滤器)?			注册记账凭证
a-unreg 分期检索式? 日期过滤器? (: 记账凭证过滤器)?			解除注册记账凭证
a-recal 分期检索式?										重新计算折旧
a-rst-soft 分期检索式? 日期过滤器?						解除已删除的记账凭证注册
a-rst-mixed 分期检索式? 日期过滤器? (: 记账凭证过滤器)?		删除注册了的记账凭证，并解除注册
a-rst-hard 分期检索式? (: 记账凭证过滤器)?					删除账上所有和某资产相关的内容，但保留获得和处置
a-ap 分期检索式? 日期过滤器?				 				将资产折旧/减值登记入账
a-ap col? 分期检索式? 日期过滤器?							将资产折旧/减值登记入账，按无日期处理
a-chk 分期检索式?										检查一致性

编辑摊销：
o 时间点? 分期检索式?										检索摊销（以报告形式显示，无计算表，按指定日期计算账面价值，不显示待摊额为零和未购置的）
o-all 分期检索式?										检索摊销（以报告形式显示，无计算表）
o-li 时间点? 分期检索式?									检索摊销（以报告形式显示，有计算表，按指定日期计算账面价值，不显示待摊额为零和未购置的）
o-q 分期检索式?											检索摊销
o-reg 分期检索式? 日期过滤器? (: 记账凭证过滤器)?			注册记账凭证
o-unreg 分期检索式? 日期过滤器? (: 记账凭证过滤器)?			解除注册记账凭证
o-recal 分期检索式?										重新计算摊销
o-rst-soft 分期检索式? 日期过滤器?						解除已删除的记账凭证注册
o-rst-mixed 分期检索式? 日期过滤器? (: 记账凭证过滤器)?		删除注册了的记账凭证，并解除注册
o-ap 分期检索式? 日期过滤器?				 				将摊销登记入账
o-ap col? 分期检索式? 日期过滤器?							将摊销登记入账，按无日期处理
o-chk 分期检索式?										检查一致性

分期检索式：
原子分期检索式				不进行复合
{原子分期检索式}				可通过+-*{}进行复合

原子分期检索式：
用户过滤器? ID过滤器? 分期名称过滤器? 分期备注过滤器? [日期过滤器]?
（注意：这里的日期过滤器不得省略[]，因此总共有两层[]）

分期名称过滤器：
/.../						此处为正则表达式

分期备注过滤器：
%...%


结转/所有者权益币种转换命令：
ca-lst 日期过滤器?          列出记账本位币变更历史
ca-rst 日期过滤器?			删除结转/所有者权益币种转换
ca 日期过滤器?			    结转/所有者权益币种转换


汇率查询命令：
?e 购汇币 金额 结汇币? 日期?        粗略查询汇率
?e-acc 购汇币 金额 结汇币? 日期?    准确查询汇率


检查命令：
chk 1						检查基本正确性（每一记账凭证借贷方相等）
chk 2						检查复杂正确性（每日每科目每内容，资产无贷方余额，负债无借方余额）
chk 3						更新所有记账凭证
chk 4						检查重复记账凭证


其他命令：
T							检索所有科目编号及其名称
?							帮助
reload						重新读取配置文件
die							退出进程
version						显示程序版本


插件命令：
$...$ ...					调用插件
?$...$						显示插件文档
?$$							列出所有插件
